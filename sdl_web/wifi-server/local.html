<html lang="en">
	<head>
		<title>Local SDL</title>
		<style>
			*{font-family:Trebuchet MS;color:white;}
			html,body{margin:0 auto;min-width:600px;min-height:100%;background:linear-gradient(white,#E35930);}
			table{table-layout:fixed;margin:auto;}
			.stretch,input[type="text"],input[type="password"]{width:100%;}
			.center{text-align:center;}.right{text-align:right;}
			td,input{background:rgba(0,0,0,.3);padding:3%;}.label{padding:3%;}
			.bigFont{font-size:400%;}#content{font-size:300%;}input{font-size:115%;}
			.btn{cursor:pointer;}.btn td:hover{background:rgba(0,0,0,.5);}.btn td.selected{background:rgba(0,0,0,.7);}
		</style>
	</head>
	<body>
		<table class="stretch">
			<tr class="bigFont center">
				<td colspan="3">Smart Door Lock</td>
			</tr>
			<tr class="bigFont btn center">
				<td onclick="addUser(this)">+</td><form id="add" action="#add" method="get" hidden><input value="add" hidden></form>
				<td onclick="deleteUser(this)">&#x2212</td><form id="del" action="#delete" method="get" hidden><input value="del" hidden></form>
				<td onclick="setWifi(this)"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAANf8AYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGd27GMAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAARCPAAEQjwG2dmxoAAAAGHRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjVlhTJlAAAA8UlEQVRIS+2QSw7CMAwF4f6HLv5MGjuxK2CBhNRZIPs9D4I8js+5ndp5Rsgiq8Nlhm6QHW526J3gUHdwJUyHqoe76ZBfwy0OoeMRkDkemUNiWJqhMXRXh1XRqIBWkU0cFsEPSrgQkkObvrVIo7NUgdxMJ+crsT3fwLNOib18qjPwuoEbJTiUHVwJ06FSSBQShSQ4FEkwiAWC3WGN0HQOy0ou8/8JI4SEMTondjshDewOpxPyyeZwGKE5WR3OMnSD1lnmSO2wDIttUDrMyror1RswObuyO2/QOdVvGjSOKZ30h843b2AS00brXHA7v3KO4wWZQHadebSiYwAAAABJRU5ErkJggg=="></td><form id="wifi" action="#wifi" method="get" hidden></form>
			</tr>
			<tr><td id="content" colspan="3" class="smallFont">Select one of the options above</td></tr>
		</table>
		<script>
			if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))
				document.getElementsByTagName('body')[0].setAttribute('width','100%');
			var form = {
					add: document.getElementById('add'),
					del: document.getElementById('del'),
					wifi: document.getElementById('wifi')
				},
				content = document.getElementById('content');
			var addUser = function(td){
					toggleSelect(td);
					content.innerHTML = '<p>Please verify your identity by opening the door.</p>';
					form.add.submit();
				},
				deleteUser = function(td){
					toggleSelect(td);
					content.innerHTML = '<p>Please verify your identity by opening the door.</p>';
					form.del.submit();
				},
				setWifi = function(td){
					toggleSelect(td);
					content.innerHTML =
						'<p>Please WiFi network name and its password.</p>'+
						'<form id="add" action="#wifi" method="post">'+
							'<div class="label">Network Name<input type="text" name="ssid"></div>'+
							'<div class="label">Password<input type="password" name="netPW"></div>'+
							'<div class="label right"><input type="submit" value="Update"></div>'+
						'</form>';
					form.wifi.submit();
				},
				getVar = function (variable) {
					var query = window.location.search.substring(1);
					var vars = query.split('&');
					for (var i = 0; i < vars.length; i++) {
						var pair = vars[i].split('=');
						if (decodeURIComponent(pair[0]) == variable) return decodeURIComponent(pair[1]);
					}
					return 'undefined';
				},
				toggleSelect = function (ele) {
					var x = document.getElementsByClassName("selected");
					for (var i in x) x[i].className = "";
					ele.className += ' selected';
				};
			setWifi(wifi.previousSibling);
		</script>
	</body>
</html>